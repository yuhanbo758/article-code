æ’ä»¶æ–‡æ¡£ï¼š [obsidianæ’ä»¶ï¼šyuhanbo-taskï¼Œæ™ºèƒ½ä»»åŠ¡ç®¡ç†ä¸ç•ªèŒ„æ—¶é’Ÿæ’ä»¶ | ä½™æ±‰æ³¢ æ–‡æ¡£](https://docs.sanrenjz.com/article/obsidian%E6%8F%92%E4%BB%B6%EF%BC%9Ayuhanbo-task%EF%BC%8C%E6%99%BA%E8%83%BD%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E4%B8%8E%E7%95%AA%E8%8C%84%E6%97%B6%E9%92%9F%E6%8F%92%E4%BB%B6)

## ğŸ“‹ ç›®å½•

1. é¡¹ç›®æ¦‚è¿°
1. é¡¹ç›®ç»“æ„
1. æ ¸å¿ƒæ¨¡å—è¯´æ˜
1. è¿è¡Œç¯å¢ƒ
1. å®‰è£…éƒ¨ç½²
1. åŠŸèƒ½è¯¦è§£
1. APIæ¥å£è¯´æ˜
1. é…ç½®è¯´æ˜
1. å¼€å‘æŒ‡å—
1. å¸¸è§é—®é¢˜
## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä¸º Obsidian å¼€å‘çš„ä»»åŠ¡ç®¡ç†å’Œç•ªèŒ„æ—¶é’Ÿæ’ä»¶ï¼Œé›†æˆäº† AI æ™ºèƒ½ä»»åŠ¡æ‹†åˆ†åŠŸèƒ½ã€‚æ’ä»¶æä¾›äº†å®Œæ•´çš„ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ”¯æŒé‡å¤æ€§ä»»åŠ¡å’Œä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œå¹¶é…å¤‡äº†ç•ªèŒ„å·¥ä½œæ³•è®¡æ—¶å™¨æ¥æé«˜å·¥ä½œæ•ˆç‡ã€‚

### ä¸»è¦ç‰¹æ€§

* ğŸ“ ä»»åŠ¡ç®¡ç†: æ”¯æŒé‡å¤æ€§ä»»åŠ¡ï¼ˆå¹´/æœˆ/å‘¨/æ—¥å‘¨æœŸï¼‰å’Œä¸€æ¬¡æ€§ä»»åŠ¡
* ğŸ… ç•ªèŒ„æ—¶é’Ÿ: é›†æˆç•ªèŒ„å·¥ä½œæ³•ï¼Œæ”¯æŒè‡ªå®šä¹‰å·¥ä½œå’Œä¼‘æ¯æ—¶é—´
* ğŸ¤– AI æ™ºèƒ½æ‹†åˆ†: é›†æˆ DeepSeek APIï¼Œè‡ªåŠ¨å°†å¤æ‚ä»»åŠ¡æ‹†åˆ†ä¸ºå­ä»»åŠ¡
* ğŸ“Š è¿›åº¦è·Ÿè¸ª: å®æ—¶è·Ÿè¸ªä»»åŠ¡è¿›åº¦å’Œå®ŒæˆçŠ¶æ€
* ğŸ”” æ™ºèƒ½æé†’: æ”¯æŒè‡ªå®šä¹‰æç¤ºéŸ³å’Œåˆ°æœŸæé†’
* ğŸ“ æ–‡ä»¶ç®¡ç†: è‡ªåŠ¨å½’æ¡£å·²å®Œæˆä»»åŠ¡åˆ°æŒ‡å®šæ–‡ä»¶å¤¹
## ğŸ“ é¡¹ç›®ç»“æ„

```plain text
obsidian-yuhanbo-task/
â”œâ”€â”€ main.js                    # ä¸»ç¨‹åºæ–‡ä»¶ï¼ˆ4007è¡Œï¼‰
â”œâ”€â”€ manifest.json              # æ’ä»¶æ¸…å•æ–‡ä»¶
â”œâ”€â”€ package.json               # é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ data.json                  # ç”¨æˆ·æ•°æ®é…ç½®æ–‡ä»¶
â”œâ”€â”€ styles.css                 # æ ·å¼æ–‡ä»¶ï¼ˆ412è¡Œï¼‰
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

### æ–‡ä»¶è¯´æ˜

## ğŸ—ï¸ æ ¸å¿ƒæ¨¡å—è¯´æ˜

### 1. YuhanboTaskPlugin (ä¸»æ’ä»¶ç±»)

ä½ç½®: main.js:47-385åŠŸèƒ½: æ’ä»¶çš„å…¥å£ç‚¹ï¼Œè´Ÿè´£åˆå§‹åŒ–å’Œåè°ƒå„ä¸ªæ¨¡å—

```javascript
class YuhanboTaskPlugin extends Plugin {
    async onload() {
        // åŠ è½½è®¾ç½®ã€åˆå§‹åŒ–ç®¡ç†å™¨ã€æ³¨å†Œå‘½ä»¤ç­‰
    }
    
    async onunload() {
        // æ¸…ç†èµ„æºã€åœæ­¢å®šæ—¶å™¨ç­‰
    }
}
```

æ ¸å¿ƒæ–¹æ³•:

* onload(): æ’ä»¶åŠ è½½æ—¶çš„åˆå§‹åŒ–é€»è¾‘
* onunload(): æ’ä»¶å¸è½½æ—¶çš„æ¸…ç†é€»è¾‘
* saveSettings(): ä¿å­˜ç”¨æˆ·è®¾ç½®
* resetTaskSystem(): é‡ç½®ä»»åŠ¡ç³»ç»Ÿ
* startDailyCleanupTimer(): å¯åŠ¨æ¯æ—¥æ¸…ç†å®šæ—¶å™¨
* performDailyCleanup(): æ‰§è¡Œæ¯æ—¥æ¸…ç†ä»»åŠ¡
### 2. TaskManager (ä»»åŠ¡ç®¡ç†å™¨)

ä½ç½®: main.js:1180-2531åŠŸèƒ½: æ ¸å¿ƒä»»åŠ¡ç®¡ç†é€»è¾‘ï¼Œå¤„ç†ä»»åŠ¡çš„å¢åˆ æ”¹æŸ¥

```javascript
class TaskManager {
    constructor(plugin) {
        this.plugin = plugin;
        this.tasks = {
            repeating: [],    // é‡å¤æ€§ä»»åŠ¡
            oneTime: [],      // ä¸€æ¬¡æ€§ä»»åŠ¡
            completed: []     // å·²å®Œæˆä»»åŠ¡
        };
    }
}
```

æ ¸å¿ƒæ–¹æ³•:

* createTask(taskData): åˆ›å»ºæ–°ä»»åŠ¡
* updateTask(taskId, updates): æ›´æ–°ä»»åŠ¡çŠ¶æ€
* deleteTask(taskId): åˆ é™¤ä»»åŠ¡
* getAllActiveTasks(): è·å–æ‰€æœ‰æ´»è·ƒä»»åŠ¡
* loadTasks(): ä»æ–‡ä»¶åŠ è½½ä»»åŠ¡
* saveTasks(): ä¿å­˜ä»»åŠ¡åˆ°æ–‡ä»¶
* filterRepeatingTasks(): è¿‡æ»¤é‡å¤æ€§ä»»åŠ¡æ˜¾ç¤º
* cleanupExpiredRepeatingTasks(): æ¸…ç†è¿‡æœŸé‡å¤æ€§ä»»åŠ¡
### 3. PomodoroTimer (ç•ªèŒ„æ—¶é’Ÿ)

ä½ç½®: main.js:386-737åŠŸèƒ½: ç•ªèŒ„å·¥ä½œæ³•è®¡æ—¶å™¨å®ç°

```javascript
class PomodoroTimer {
    constructor(plugin) {
        this.plugin = plugin;
        this.state = PomodoroState.IDLE;
        this.timeRemaining = 0;
        this.currentTask = null;
    }
}
```

æ ¸å¿ƒæ–¹æ³•:

* startWorkWithTaskSelection(): å¼€å§‹å·¥ä½œå¹¶é€‰æ‹©ä»»åŠ¡
* startWork(task): å¼€å§‹å·¥ä½œè®¡æ—¶
* startBreak(): å¼€å§‹ä¼‘æ¯è®¡æ—¶
* pause(): æš‚åœè®¡æ—¶å™¨
* resume(): æ¢å¤è®¡æ—¶å™¨
* stop(): åœæ­¢è®¡æ—¶å™¨
* playSound(): æ’­æ”¾æç¤ºéŸ³
### 4. Modal ç±»æ— (ç”¨æˆ·ç•Œé¢)

### TaskSelectionModal (ä»»åŠ¡é€‰æ‹©å¼¹çª—)

ä½ç½®: main.js:2532-2675åŠŸèƒ½: ç•ªèŒ„æ—¶é’Ÿå¼€å§‹å‰çš„ä»»åŠ¡é€‰æ‹©ç•Œé¢

### TaskProgressModal (ä»»åŠ¡è¿›åº¦å¼¹çª—)

ä½ç½®: main.js:2676-2824åŠŸèƒ½: ä»»åŠ¡è¿›åº¦æ›´æ–°ç•Œé¢

### TaskModal (ä»»åŠ¡åˆ›å»º/ç¼–è¾‘å¼¹çª—)

ä½ç½®: main.js:2825-3584åŠŸèƒ½: ä»»åŠ¡åˆ›å»ºå’Œç¼–è¾‘çš„ä¸»ç•Œé¢

### TaskListModal (ä»»åŠ¡åˆ—è¡¨å¼¹çª—)

ä½ç½®: main.js:3585-4007åŠŸèƒ½: ä»»åŠ¡åˆ—è¡¨æŸ¥çœ‹å’Œç®¡ç†ç•Œé¢

### 5. YuhanboTaskSettingTab (è®¾ç½®é¡µé¢)

ä½ç½®: main.js:738-1179åŠŸèƒ½: æ’ä»¶è®¾ç½®ç•Œé¢

è®¾ç½®é¡¹:

* API é…ç½® (DeepSeek API Key)
* ä»»åŠ¡æ–‡ä»¶å¤¹è·¯å¾„é…ç½®
* ç•ªèŒ„æ—¶é’Ÿæ—¶é—´é…ç½®
* æç¤ºéŸ³è®¾ç½®
* AI åŠŸèƒ½å¼€å…³
## ğŸ”§ è¿è¡Œç¯å¢ƒ

### åŸºç¡€è¦æ±‚

* Obsidian: ç‰ˆæœ¬ 0.15.0 æˆ–æ›´é«˜
* æ“ä½œç³»ç»Ÿ: Windows / macOS / Linux
* Node.js: ä¸éœ€è¦ï¼ˆæ’ä»¶è¿è¡Œåœ¨ Obsidian ç¯å¢ƒä¸­ï¼‰
### ä¾èµ–é¡¹

æ’ä»¶ä½¿ç”¨ Obsidian å†…ç½®çš„ä¾èµ–é¡¹ï¼š

```javascript
const { Plugin, Notice, PluginSettingTab, Setting, Modal, moment, normalizePath } = require('obsidian');
```

* Plugin: Obsidian æ’ä»¶åŸºç±»
* Notice: é€šçŸ¥ç»„ä»¶
* PluginSettingTab: è®¾ç½®é¡µé¢åŸºç±»
* Setting: è®¾ç½®é¡¹ç»„ä»¶
* Modal: å¼¹çª—åŸºç±»
* moment: æ—¥æœŸå¤„ç†åº“
* normalizePath: è·¯å¾„æ ‡å‡†åŒ–å·¥å…·
## ğŸ“¦ å®‰è£…éƒ¨ç½²

### æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨å®‰è£…

1. ä¸‹è½½æ’ä»¶æ–‡ä»¶
1. å¯ç”¨æ’ä»¶
### æ–¹æ³•äºŒï¼šå¼€å‘æ¨¡å¼å®‰è£…

1. å…‹éš†ä»£ç 
1. é‡å¯ Obsidian
### åˆå§‹åŒ–é…ç½®

æ’ä»¶é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨ï¼š

