---
创建时间: 2024-01-21 21:37
修改时间: 2024-01-21 21:43
tags:
  - 量化分析
  - python
  - 监控
  - 自动化
share: "true"
---
[用 Python 监控股票价格变动，觖发条件弹窗提醒_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1hW4y1F7Vp/)

在金融领域，尤其是股票市场，及时获取价格信息对于投资者来说至关重要。随着科技的发展，量化投资已经成为金融市场的一大趋势。今天，我们将探讨一个简单但非常实用的量化投资工具——股票价格提醒系统。本文将以一个实际的编程案例为基础，详细解释如何利用 Python 构建一个自动化的股票价格监控和提醒系统。

#### 代码例子

```python
# 股票代码和设定的价格阈值
stock_code = '000001.SZ'  
threshold_price = 9.00  # 设定的价格阈值

# 检查股票价格是否超过阈值, 如果超过则弹窗提醒
def check_stock_price():
    price = json_to_dfcf_qmt_jyr(stock_code, days=1, fqt=1)['close'][0] # 自定义函数，获取最新价格
    print(f"当前价格: {price}")
    if price > threshold_price:
        alert()

# 弹窗提醒
def alert():
    window = tk.Tk()
    window.withdraw()  # 隐藏主窗口
    messagebox.showinfo("股票提醒", f"{stock_code} 的价格超过 {threshold_price} 元！")
    window.destroy()

# 每隔60秒检查一次价格
while True:
    check_stock_price()
    time.sleep(60)  # 每隔60秒检查一次价格
```

##### 代码概览

本文所展示的代码是一个用于监控特定股票价格并在达到设定阈值时发出提醒的 Python 脚本。代码主要包括了两部分：价格检查（`check_stock_price` 函数）和提醒触发（`alert` 函数）。整个脚本的运作基于一个循环，每隔一定时间（本例中为 60 秒）检查一次股票的当前价格。

##### 详细解读

1. **股票代码和阈值设定**：脚本开始部分定义了股票代码（`'000001.SZ'`）和价格阈值（9.00 元）。这两个参数是用户可自定义的，用于指定监控的股票及其价格提醒点。

2. **价格检查函数 `check_stock_price`**：
   - 这个函数首先调用 `json_to_dfcf_qmt_jyr` 函数（一个假设的函数，用于获取股票价格），以获取指定股票的最新收盘价。
   - 然后，它将检查当前价格是否超过了设定的阈值。
   - 如果当前价格高于阈值，将调用 `alert` 函数发出提醒。

3. **提醒函数 `alert`**：
   - 该函数使用 Tkinter 库（Python 的标准 GUI 库之一）创建一个弹窗提醒。
   - 当股票价格超过设定阈值时，会弹出一个信息框，显示股票代码和当前价格。

4. **循环监控**：
   - 脚本最后的 `while True` 循环确保了这个监控过程会不断重复，每隔 60 秒执行一次 `check_stock_price` 函数。

#### 应用场景与意义

这种类型的自动化股票价格监控系统对于投资者来说极为重要。它可以帮助投资者实时跟踪股票价格的变化，及时做出买入或卖出的决策。对于那些没有时间持续关注股市动态的投资者来说，这个工具尤为有用。它可以减少他们错过重要交易机会的风险，并帮助他们更好地管理其投资组合。

#### 结语

总而言之，随着技术的进步和量化投资的普及，这类自动化工具在金融市场中的作用日益重要。通过简单的编程技巧，即使是非专业的投资者也可以构建出有用的投资辅助工具，以更好地应对快速变化的股市。
